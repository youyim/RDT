# è¾…åŠ©å¼€å‘å·¥ä½œæµæ¡†æ¶ (Assisted Development Workflow)

æœ¬æ–‡æ¡£å®šä¹‰äº†è¿›è¡Œ Web ç³»ç»Ÿå¼€å‘çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸå·¥ä½œæµï¼Œæ¶µç›–ä»éœ€æ±‚æ²Ÿé€šåˆ°ä¸Šçº¿çš„å…¨è¿‡ç¨‹ã€‚

---

## ğŸ“‘ ç›®å½•

- [å·¥ä½œæµæ€»è§ˆ](#å·¥ä½œæµæ€»è§ˆ)
- [Phase 1: éœ€æ±‚æ²Ÿé€š](#phase-1-éœ€æ±‚æ²Ÿé€š-requirement-communication)
- [Phase 2a: åç«¯è®¾è®¡](#phase-2a-åç«¯è®¾è®¡-backend-design)
- [Phase 2b: å‰ç«¯è®¾è®¡](#phase-2b-å‰ç«¯è®¾è®¡-frontend-design)
- [Phase 3: å¼€å‘ä¸æµ‹è¯• (TDD)](#phase-3-å¼€å‘ä¸æµ‹è¯•-tdd-development--testing)
- [Phase 3a: ä»£ç è¯„å®¡](#phase-3a-ä»£ç è¯„å®¡-code-review)
- [Phase 4: éªŒè¯](#phase-4-éªŒè¯-verification)
- [Phase 4a: é—®é¢˜ä¿®å¤](#phase-4a-é—®é¢˜ä¿®å¤-bug-fix)
- [Phase 5: è¿­ä»£ä¸ä¸Šçº¿](#phase-5-è¿­ä»£ä¸ä¸Šçº¿-iteration--release)
- [äº§å‡ºç‰©æ ¼å¼è§„èŒƒ](#äº§å‡ºç‰©æ ¼å¼è§„èŒƒ)

---

## ğŸ“ äº§å‡ºç‰©æ¨¡æ¿

æ¯ä¸ªé˜¶æ®µçš„äº§å‡ºç‰©æ¨¡æ¿ä½äºå¯¹åº”ç›®å½•ä¸‹ï¼Œä½¿ç”¨å‰è¯·å¤åˆ¶å¹¶é‡å‘½åï¼š

| é˜¶æ®µ        | æ¨¡æ¿æ–‡ä»¶                                                                     | ç›®å½•                             |
| ----------- | ---------------------------------------------------------------------------- | -------------------------------- |
| éœ€æ±‚æ²Ÿé€š    | [\_TEMPLATE_PRD.md](./requirements/_TEMPLATE_PRD.md)                         | `docs/requirements/`             |
| è®¾è®¡-UI     | [\_TEMPLATE_UI_PROTOTYPE.md](./design/_TEMPLATE_UI_PROTOTYPE.md)             | `docs/design/`                   |
| è®¾è®¡-æ¶æ„   | [\_TEMPLATE_ARCHITECTURE.md](./design/_TEMPLATE_ARCHITECTURE.md)             | `docs/design/`                   |
| è®¾è®¡-API    | [\_TEMPLATE_API.md](./design/_TEMPLATE_API.md)                               | `docs/design/`                   |
| è®¾è®¡-æ•°æ®åº“ | [\_TEMPLATE_DATABASE.md](./design/_TEMPLATE_DATABASE.md)                     | `docs/design/`                   |
| è®¾è®¡-Schema | [\_TEMPLATE_DATABASE_SCHEMA.md](./design/_TEMPLATE_DATABASE_SCHEMA.md)       | `docs/design/DATABASE_SCHEMA.md` |
| è®¾è®¡-å‰ç«¯   | [\_TEMPLATE_FRONTEND.md](./design/_TEMPLATE_FRONTEND.md)                     | `docs/design/`                   |
| å¼€å‘        | [\_TEMPLATE_IMPLEMENTATION.md](./implementation/_TEMPLATE_IMPLEMENTATION.md) | `docs/implementation/`           |
| ä»£ç è¯„å®¡    | [\_TEMPLATE_CODE_REVIEW.md](./code_review/_TEMPLATE_CODE_REVIEW.md)          | `docs/code_review/`              |
| æµ‹è¯•        | [\_TEMPLATE_TESTCASE.md](./test/_TEMPLATE_TESTCASE.md)                       | `docs/test/`                     |
| é—®é¢˜ä¿®å¤    | [\_TEMPLATE_BUGFIX.md](./bugfix/_TEMPLATE_BUGFIX.md)                         | `docs/bugfix/`                   |
| éªŒè¯        | [\_TEMPLATE_VERIFICATION.md](./verification/_TEMPLATE_VERIFICATION.md)       | `docs/verification/`             |
| ä¸Šçº¿        | [\_TEMPLATE_RELEASE.md](./release/_TEMPLATE_RELEASE.md)                      | `docs/release/`                  |

**è§„èŒƒæ–‡æ¡£**:

- [DESIGN_STANDARDS.md](../.agent/rules/DESIGN_STANDARDS.md) - è®¾è®¡è§„èŒƒ
- [CODING_STANDARDS.md](../.agent/rules/CODING_STANDARDS.md) - ç¼–ç è§„èŒƒ

**é˜¶æ®µæµç¨‹** (ä½äº `.agent/workflows/`):

| é˜¶æ®µ      | æµç¨‹æ–‡ä»¶                                                                                   |
| --------- | ------------------------------------------------------------------------------------------ |
| éœ€æ±‚æ²Ÿé€š  | [01-requirements-prompt.md](../.agent/workflows/01-requirements-prompt.md)                 |
| è®¾è®¡-åç«¯ | [02a-backend-design-prompt.md](../.agent/workflows/02a-backend-design-prompt.md)           |
| è®¾è®¡-å‰ç«¯ | [02b-frontend-design-prompt.md](../.agent/workflows/02b-frontend-design-prompt.md)         |
| å¼€å‘-åç«¯ | [03-backend-development-prompt.md](../.agent/workflows/03-backend-development-prompt.md)   |
| å¼€å‘-å‰ç«¯ | [04-frontend-development-prompt.md](../.agent/workflows/04-frontend-development-prompt.md) |
| ä»£ç è¯„å®¡  | [05-code-review-prompt.md](../.agent/workflows/05-code-review-prompt.md)                   |
| é—®é¢˜ä¿®å¤  | [06-bugfix-prompt.md](../.agent/workflows/06-bugfix-prompt.md)                             |
| éªŒè¯      | [07-verification-prompt.md](../.agent/workflows/07-verification-prompt.md)                 |
| è¿­ä»£/å‘å¸ƒ | [08-iteration-release-prompt.md](../.agent/workflows/08-iteration-release-prompt.md)       |

---

## å·¥ä½œæµæ€»è§ˆ

graph LR
A[éœ€æ±‚æ²Ÿé€š] --> B1[åç«¯è®¾è®¡]
B1 --> B2[å‰ç«¯è®¾è®¡]
B2 --> C1[åç«¯å¼€å‘]
B2 --> C2[å‰ç«¯å¼€å‘]
C --> D[ä»£ç è¯„å®¡]
D --> E[éªŒè¯]
E -->|é€šè¿‡| F[ä¸Šçº¿]
E -->|ä¸é€šè¿‡| C
F -->|æ–°éœ€æ±‚| A

    style A fill:#e1f5fe
    style B fill:#fff3e0
    style C fill:#e8f5e9
    style D fill:#fce4ec
    style E fill:#f3e5f5
    style F fill:#e0f2f1

### æ ¸å¿ƒåŸåˆ™

| åŸåˆ™           | è¯´æ˜                                                            |
| -------------- | --------------------------------------------------------------- |
| **äº§å‡ºç‰©é©±åŠ¨** | æ¯ä¸ªé˜¶æ®µäº§å‡ºæ ‡å‡†åŒ–æ–‡æ¡£ï¼Œä½œä¸ºä¸‹ä¸€é˜¶æ®µçš„è¾“å…¥                      |
| **å¯è§£æ**     | æ‰€æœ‰æ–‡æ¡£ä½¿ç”¨ YAML Frontmatter + Markdown æ ¼å¼ï¼Œå¯ç›´æ¥è¯»å–å’Œæ›´æ–° |
| **å¢é‡è¿­ä»£**   | æ”¯æŒåœ¨åŸæœ‰äº§å‡ºç‰©ä¸Šè¿­ä»£ï¼Œè€Œéæ¯æ¬¡é‡å»º                            |
| **å¯è¿½æº¯æ€§**   | æ¯ä¸ªäº§å‡ºç‰©åŒ…å«ç‰ˆæœ¬ä¿¡æ¯å’Œå˜æ›´å†å²                                |

---

### âš ï¸ æ ¸å¿ƒåŸåˆ™: è¿­ä»£æ²Ÿé€šä¸å¯¹é½

> [!CAUTION] > **æ¯ä¸ªé˜¶æ®µéƒ½ä¸æ˜¯ä¸€æ¬¡æ€§å®Œæˆçš„ï¼** å¿…é¡»é€šè¿‡å¤šè½®æ²Ÿé€šç¡®ä¿äººæœºç†è§£ä¸€è‡´ï¼Œé¿å…å› ä¿¡æ¯ä¸å¯¹é½å¯¼è‡´åç»­å¤§é‡è¿”å·¥ã€‚

#### æ²Ÿé€šå¾ªç¯æ¨¡å‹

```mermaid
graph LR
    A[äººç±»è¾“å…¥éœ€æ±‚] --> B[ç”Ÿæˆåˆç¨¿]
    B --> C{äººç±»å®¡é˜…}
    C -->|æœ‰åå·®| D[äººç±»åé¦ˆä¿®æ­£]
    D --> B
    C -->|å¯¹é½| E[ç¡®è®¤é”å®š]
    E --> F[è¿›å…¥ä¸‹ä¸€é˜¶æ®µ]

    style C fill:#fff3e0,stroke:#ff9800
    style E fill:#e8f5e9,stroke:#4caf50
```

#### æ¯é˜¶æ®µå¯¹é½æ£€æŸ¥ç‚¹

| é˜¶æ®µ         | å¯¹é½æ£€æŸ¥ç‚¹                                             | ç¡®è®¤æ–¹å¼        |
| ------------ | ------------------------------------------------------ | --------------- |
| **éœ€æ±‚æ²Ÿé€š** | ç”¨æˆ·æ•…äº‹æ˜¯å¦å®Œæ•´ï¼ŸéªŒæ”¶æ ‡å‡†æ˜¯å¦å¯æµ‹ï¼Ÿè¾¹ç•Œæ¡ä»¶æ˜¯å¦è¦†ç›–ï¼Ÿ | äººç±»é€æ¡ç¡®è®¤ âœ… |
| **è®¾è®¡**     | æ¶æ„æ˜¯å¦æ»¡è¶³éœ€æ±‚ï¼ŸAPI å¥‘çº¦æ˜¯å¦åˆç†ï¼Ÿæ•°æ®æ¨¡å‹æ˜¯å¦å®Œæ•´ï¼Ÿ | æŠ€æœ¯è¯„å®¡ âœ…     |
| **å¼€å‘**     | å®ç°æ˜¯å¦ç¬¦åˆè®¾è®¡ï¼Ÿä»£ç æ˜¯å¦ç¬¦åˆè§„èŒƒï¼Ÿ                   | Code Review âœ…  |
| **æµ‹è¯•**     | æµ‹è¯•ç”¨ä¾‹æ˜¯å¦è¦†ç›–æ‰€æœ‰éªŒæ”¶æ ‡å‡†ï¼Ÿè¾¹ç•Œåœºæ™¯æ˜¯å¦è¦†ç›–ï¼Ÿ       | æµ‹è¯•è¯„å®¡ âœ…     |
| **éªŒè¯**     | æ˜¯å¦æ‰€æœ‰éªŒæ”¶æ ‡å‡†éƒ½é€šè¿‡ï¼Ÿæ˜¯å¦æœ‰é—æ¼ï¼Ÿ                   | éªŒæ”¶ç­¾å­— âœ…     |

#### å¯¹é½ç¡®è®¤æ¨¡æ¿

åœ¨æ¯è½®æ²Ÿé€šåï¼Œåº”ä½¿ç”¨ä»¥ä¸‹æ¨¡æ¿è¿›è¡Œå¯¹é½ç¡®è®¤ï¼š

```markdown
## å¯¹é½ç¡®è®¤

### æˆ‘ç†è§£çš„éœ€æ±‚

[å¤è¿°å¯¹éœ€æ±‚çš„ç†è§£ï¼Œç”¨è‡ªå·±çš„è¯æ€»ç»“]

### å…³é”®å†³ç­–ç‚¹

1. [å†³ç­– 1]: [é€‰é¡¹ A] vs [é€‰é¡¹ B] â†’ æˆ‘é€‰æ‹© [X]ï¼Œå› ä¸º [ç†ç”±]
2. [å†³ç­– 2]: [é€‰é¡¹ A] vs [é€‰é¡¹ B] â†’ **éœ€è¦æ‚¨ç¡®è®¤**

### å¾…ç¡®è®¤é—®é¢˜

1. [ ] [é—®é¢˜ 1]?
2. [ ] [é—®é¢˜ 2]?

### æˆ‘çš„å‡è®¾

- å‡è®¾ 1: [æè¿°] â€” å¦‚æœä¸æ­£ç¡®è¯·æŒ‡å‡º
- å‡è®¾ 2: [æè¿°]

### å¯èƒ½çš„é£é™©

- é£é™© 1: [æè¿°]

---

**è¯·ç¡®è®¤ä»¥ä¸Šç†è§£æ˜¯å¦æ­£ç¡®ï¼Œæˆ–æŒ‡å‡ºéœ€è¦ä¿®æ­£çš„åœ°æ–¹ã€‚**
```

#### é˜²æ­¢ä¿¡æ¯ä¸å¯¹é½çš„æœ€ä½³å®è·µ

| é£é™©         | é¢„é˜²æªæ–½                                  |
| ------------ | ----------------------------------------- |
| ç†è§£åå·®     | å…ˆå¤è¿°ç†è§£ï¼Œå†å¼€å§‹å·¥ä½œ                    |
| éšå«å‡è®¾     | æ˜ç¡®åˆ—å‡ºæ‰€æœ‰å‡è®¾ï¼Œè¦æ±‚äººç±»ç¡®è®¤            |
| è¾¹ç•Œæ¡ä»¶é—æ¼ | ä¸»åŠ¨è¯¢é—®è¾¹ç•Œæƒ…å†µã€å¼‚å¸¸åœºæ™¯ã€é”™è¯¯å¤„ç†      |
| æŠ€æœ¯é€‰å‹åˆ†æ­§ | æä¾›å¤šä¸ªé€‰é¡¹å¹¶è¯´æ˜ trade-offï¼Œè®©äººç±»å†³ç­–  |
| éœ€æ±‚è”“å»¶     | æ˜ç¡® MVP èŒƒå›´ï¼Œè¶…å‡ºèŒƒå›´çš„æ ‡è®°ä¸º "Phase 2" |
| æœ¯è¯­ç†è§£å·®å¼‚ | å»ºç«‹é¡¹ç›®æœ¯è¯­è¡¨ï¼Œç¡®ä¿äººæœºä½¿ç”¨ç›¸åŒçš„è¯æ±‡    |

#### é˜¶æ®µé—¨ç¦ (Phase Gate)

> [!IMPORTANT] > **æ¯ä¸ªé˜¶æ®µå¿…é¡»è·å¾—æ˜ç¡®çš„ "ç¡®è®¤é€šè¿‡" æ‰èƒ½è¿›å…¥ä¸‹ä¸€é˜¶æ®µã€‚** æœªç¡®è®¤çš„äº§å‡ºç‰©ä¸åº”ä½œä¸ºä¸‹ä¸€é˜¶æ®µçš„è¾“å…¥ã€‚

åœ¨æ¯ä¸ªé˜¶æ®µäº§å‡ºç‰©æœ«å°¾æ·»åŠ ç¡®è®¤åŒºå—ï¼š

```yaml
---
## âœ… é˜¶æ®µç¡®è®¤

- [ ] äº§å‡ºç‰©å·²å®¡é˜…
- [ ] ç†è§£æ— åå·®
- [ ] å¯ä»¥è¿›å…¥ä¸‹ä¸€é˜¶æ®µ

**ç¡®è®¤äºº**: _______________
**ç¡®è®¤æ—¥æœŸ**: _______________
**å¤‡æ³¨**: _______________
```

#### å¸¸è§å¯¹é½å¤±è´¥åœºæ™¯åŠåº”å¯¹

| åœºæ™¯                 | é—®é¢˜è¡¨ç°                       | åº”å¯¹æ–¹æ³•                         |
| -------------------- | ------------------------------ | -------------------------------- |
| è¿‡åº¦å‡è®¾             | è‡ªè¡Œå¡«å……å¤§é‡æœªè¯´æ˜çš„ç»†èŠ‚       | è¦æ±‚åˆ—å‡ºæ‰€æœ‰å‡è®¾ä¾›ç¡®è®¤           |
| äººç±»æè¿°æ¨¡ç³Š         | "åšä¸ªå¥½ç”¨çš„ç™»å½•åŠŸèƒ½"           | ä¸»åŠ¨è¿½é—®ï¼šä»€ä¹ˆå«å¥½ç”¨ï¼Ÿå“ªäº›åœºæ™¯ï¼Ÿ |
| è·³è¿‡ç¡®è®¤ç›´æ¥å¼€å‘     | å¼€å‘å®Œå‘ç°éœ€æ±‚ç†è§£é”™è¯¯         | å¼ºåˆ¶æ¯é˜¶æ®µ checkpoint            |
| åªè¾“å‡ºç»“æœä¸è§£é‡Šè¿‡ç¨‹ | æ— æ³•åˆ¤æ–­çš„æ€è·¯æ˜¯å¦æ­£ç¡®         | è¦æ±‚è§£é‡Šå†³ç­–ç†ç”±                 |
| éœ€æ±‚å˜æ›´æœªåŒæ­¥       | è®¾è®¡åŸºäºæ—§éœ€æ±‚ï¼Œä»£ç åŸºäºæ–°éœ€æ±‚ | å˜æ›´æ—¶åŒæ­¥æ›´æ–°æ‰€æœ‰å…³è”æ–‡æ¡£       |

---

### äº§å‡ºç‰©æµè½¬å›¾

```mermaid
graph TB
    subgraph Phase1[éœ€æ±‚æ²Ÿé€š]
        PRD[PRD éœ€æ±‚æ–‡æ¡£]
        US[User Stories]
    end

    subgraph Phase2[è®¾è®¡]
        ARCH[æ¶æ„è®¾è®¡]
        API[API è®¾è®¡]
        DB[æ•°æ®åº“è®¾è®¡]
        UI[UI è®¾è®¡]
    end

    subgraph Phase3[å¼€å‘ & TDD]
        IMPL[å®ç°è§„èŒƒ]
        TC[æµ‹è¯•ç”¨ä¾‹]
        CODE[ä»£ç ]
    end

    subgraph Phase4[éªŒè¯]
        AC[éªŒæ”¶æŠ¥å‘Š]
    end

    PRD --> ARCH
    US --> API
    ARCH --> IMPL
    API --> CODE
    DB --> CODE
    IMPL --> TC
    TC --> CODE
    CODE --> AC
```

---

## Phase 1: éœ€æ±‚æ²Ÿé€š (Requirement Communication)

### ç›®æ ‡

å°†ä¸šåŠ¡éœ€æ±‚è½¬åŒ–ä¸ºå¯ç†è§£çš„ç»“æ„åŒ–éœ€æ±‚æ–‡æ¡£ã€‚

### æµç¨‹æŒ‡å¼•

è¯¦ç»†æµç¨‹è¯·å‚è€ƒ: [01-requirements-prompt.md](../.agent/workflows/01-requirements-prompt.md)

### äº§å‡ºç‰©

| æ¨¡æ¿                                                 | è¾“å‡ºè·¯å¾„                                    |
| ---------------------------------------------------- | ------------------------------------------- |
| [\_TEMPLATE_PRD.md](./requirements/_TEMPLATE_PRD.md) | `docs/requirements/{{feature-name}}-prd.md` |

### é˜¶æ®µé—¨ç¦

- [ ] ç”¨æˆ·æ•…äº‹å®Œæ•´ï¼Œè¦†ç›–æ‰€æœ‰åŠŸèƒ½ç‚¹
- [ ] éªŒæ”¶æ ‡å‡†å¯æµ‹è¯•ï¼Œä½¿ç”¨ Given/When/Then æ ¼å¼
- [ ] è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸åœºæ™¯å·²è¦†ç›–
- [ ] éåŠŸèƒ½éœ€æ±‚å·²å®šä¹‰

---

---

## Phase 2a: åç«¯è®¾è®¡ (Backend Design)

### ç›®æ ‡

æ„å»ºåšå®çš„åç«¯åŸºç¡€ï¼Œç¡®å®š API å¥‘çº¦å’Œæ•°æ®ç»“æ„ã€‚

### æµç¨‹æŒ‡å¼•

è¯¦ç»†æµç¨‹è¯·å‚è€ƒ: [02a-backend-design-prompt.md](../.agent/workflows/02a-backend-design-prompt.md)

### äº§å‡ºç‰©

| æ¨¡æ¿                                                             | è¾“å‡ºè·¯å¾„                                       |
| ---------------------------------------------------------------- | ---------------------------------------------- |
| [\_TEMPLATE_ARCHITECTURE.md](./design/_TEMPLATE_ARCHITECTURE.md) | `docs/design/{{feature-name}}-architecture.md` |
| [\_TEMPLATE_API.md](./design/_TEMPLATE_API.md)                   | `docs/design/{{feature-name}}-api.md`          |
| [\_TEMPLATE_DATABASE.md](./design/_TEMPLATE_DATABASE.md)         | `docs/design/{{feature-name}}-database.md`     |

## Phase 2b: å‰ç«¯è®¾è®¡ (Frontend Design)

### ç›®æ ‡

åŸºäº API å¥‘çº¦è®¾è®¡ç”¨æˆ·äº¤äº’å’Œå‰ç«¯æ¶æ„ã€‚

### æµç¨‹æŒ‡å¼•

è¯¦ç»†æµç¨‹è¯·å‚è€ƒ: [02b-frontend-design-prompt.md](../.agent/workflows/02b-frontend-design-prompt.md)

### äº§å‡ºç‰©

| æ¨¡æ¿                                                             | è¾“å‡ºè·¯å¾„                                       |
| ---------------------------------------------------------------- | ---------------------------------------------- |
| [\_TEMPLATE_UI_PROTOTYPE.md](./design/_TEMPLATE_UI_PROTOTYPE.md) | `docs/design/{{feature-name}}-ui-prototype.md` |
| [\_TEMPLATE_FRONTEND.md](./design/_TEMPLATE_FRONTEND.md)         | `docs/design/{{feature-name}}-frontend.md`     |

---

## Phase 3: å¼€å‘ä¸æµ‹è¯• (TDD) (Development & Testing)

### ç›®æ ‡

å°†è®¾è®¡è½¬åŒ–ä¸ºç¬¦åˆç¼–ç è§„èŒƒçš„ä»£ç å®ç°ï¼Œå¹¶é‡‡ç”¨æµ‹è¯•é©±åŠ¨å¼€å‘ (TDD) ç¡®ä¿ä»£ç è´¨é‡ã€‚

### æµç¨‹æŒ‡å¼•

è¯¦ç»†æµç¨‹è¯·å‚è€ƒ:

- åç«¯: [03-backend-development-prompt.md](../.agent/workflows/03-backend-development-prompt.md)
- å‰ç«¯: [04-frontend-development-prompt.md](../.agent/workflows/04-frontend-development-prompt.md)

### äº§å‡ºç‰©

| æ¨¡æ¿                                                                         | è¾“å‡ºè·¯å¾„                                       |
| ---------------------------------------------------------------------------- | ---------------------------------------------- |
| [\_TEMPLATE_IMPLEMENTATION.md](./implementation/_TEMPLATE_IMPLEMENTATION.md) | `docs/implementation/{{feature-name}}-impl.md` |
| [\_TEMPLATE_TESTCASE.md](./test/_TEMPLATE_TESTCASE.md)                       | `docs/test/{{feature-name}}-testcase.md`       |

### é˜¶æ®µé—¨ç¦

- [ ] å•å…ƒæµ‹è¯•è¦†ç›–ç‡è¾¾æ ‡ (TDD)
- [ ] æ‰€æœ‰ä»£ç é€šè¿‡ ESLint/PMD æ£€æŸ¥
- [ ] éµå¾ªåˆ†å±‚æ¶æ„è§„èŒƒ
- [ ] ä»£ç è¯„å®¡å·²é€šè¿‡

---

## Phase 3a: ä»£ç è¯„å®¡ (Code Review)

### ç›®æ ‡

é€šè¿‡è§„èŒƒåŒ–çš„ä»£ç è¯„å®¡æµç¨‹ï¼Œç¡®ä¿ä»£ç è´¨é‡ã€ä¸€è‡´æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

### æµç¨‹æŒ‡å¼•

è¯¦ç»†æµç¨‹è¯·å‚è€ƒ: [05-code-review-prompt.md](../.agent/workflows/05-code-review-prompt.md)

### äº§å‡ºç‰©

| æ¨¡æ¿                                                                | è¾“å‡ºè·¯å¾„                                           |
| ------------------------------------------------------------------- | -------------------------------------------------- |
| [\_TEMPLATE_CODE_REVIEW.md](./code_review/_TEMPLATE_CODE_REVIEW.md) | `docs/code_review/{{YYYY-MM-DD}}/{{commit-id}}.md` |

### é˜¶æ®µé—¨ç¦

- [ ] ä»£ç ç¬¦åˆç¼–ç è§„èŒƒ
- [ ] æ— ä¸¥é‡æ€§èƒ½é—®é¢˜
- [ ] æ— å®‰å…¨æ¼æ´
- [ ] è¯„å®¡çŠ¶æ€ä¸º PASS

---

## Phase 4a: é—®é¢˜ä¿®å¤ (Bug Fix)

### ç›®æ ‡

åˆ†æéªŒè¯æˆ–ç”Ÿäº§ç¯å¢ƒå‘ç°çš„é—®é¢˜ï¼Œè®¾è®¡ä¿®å¤æ–¹æ¡ˆå¹¶è®°å½•å†³ç­–è¿‡ç¨‹ã€‚

### æ ¸å¿ƒå…³æ³¨ç‚¹

| å…³æ³¨ç‚¹       | è¯´æ˜                 |
| ------------ | -------------------- |
| **é—®é¢˜æˆå› ** | é—®é¢˜æ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Ÿ   |
| **è§£å†³æ–¹æ¡ˆ** | æœ‰å“ªäº›å¯è¡Œæ–¹æ¡ˆï¼Ÿ     |
| **æ–¹æ¡ˆé€‰æ‹©** | ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªæ–¹æ¡ˆï¼Ÿ |
| **å›å½’é¢„é˜²** | å¦‚ä½•ç¡®ä¿ä¸å†å¤å‘ï¼Ÿ   |

### æµç¨‹æŒ‡å¼•

è¯¦ç»†æµç¨‹è¯·å‚è€ƒ: [06-bugfix-prompt.md](../.agent/workflows/06-bugfix-prompt.md)

### äº§å‡ºç‰©

| æ¨¡æ¿                                                 | è¾“å‡ºè·¯å¾„                             |
| ---------------------------------------------------- | ------------------------------------ |
| [\_TEMPLATE_BUGFIX.md](./bugfix/_TEMPLATE_BUGFIX.md) | `docs/bugfix/{{issue-id}}-bugfix.md` |

### é˜¶æ®µé—¨ç¦

- [ ] æ ¹å› åˆ†æå®Œæˆ
- [ ] æ–¹æ¡ˆé€‰æ‹©ç†ç”±å·²è®°å½•
- [ ] å›å½’æµ‹è¯•ç”¨ä¾‹å·²è®¾è®¡

---

## Phase 4: éªŒè¯ (Verification)

### ç›®æ ‡

ç¡®è®¤å®ç°æ»¡è¶³éœ€æ±‚ï¼Œå‡†å¤‡å‘å¸ƒã€‚

### æµç¨‹æŒ‡å¼•

è¯¦ç»†æµç¨‹è¯·å‚è€ƒ: [07-verification-prompt.md](../.agent/workflows/07-verification-prompt.md)

### äº§å‡ºç‰©

| æ¨¡æ¿                                                                   | è¾“å‡ºè·¯å¾„                                             |
| ---------------------------------------------------------------------- | ---------------------------------------------------- |
| [\_TEMPLATE_VERIFICATION.md](./verification/_TEMPLATE_VERIFICATION.md) | `docs/verification/{{feature-name}}-verification.md` |

### é˜¶æ®µé—¨ç¦

- [ ] åŠŸèƒ½éªŒæ”¶é€šè¿‡
- [ ] éåŠŸèƒ½éªŒæ”¶é€šè¿‡
- [ ] å‘å¸ƒæ£€æŸ¥æ¸…å•å®Œæˆ
- [ ] éªŒæ”¶æŠ¥å‘Šå·²ç­¾ç½²

---

## Phase 5: è¿­ä»£ä¸ä¸Šçº¿ (Iteration & Release)

### ç›®æ ‡

æ”¯æŒéœ€æ±‚è¿­ä»£å’Œç‰ˆæœ¬å‘å¸ƒã€‚

### æµç¨‹æŒ‡å¼•

è¯¦ç»†æµç¨‹è¯·å‚è€ƒ: [08-iteration-release-prompt.md](../.agent/workflows/08-iteration-release-prompt.md)

### äº§å‡ºç‰©

| æ¨¡æ¿                                                    | è¾“å‡ºè·¯å¾„                               |
| ------------------------------------------------------- | -------------------------------------- |
| [\_TEMPLATE_RELEASE.md](./release/_TEMPLATE_RELEASE.md) | `docs/release/v{{version}}-release.md` |

### é˜¶æ®µé—¨ç¦

- [ ] å½±å“åˆ†æå®Œæˆ
- [ ] ç›¸å…³æ–‡æ¡£å·²æ›´æ–°
- [ ] å‘å¸ƒè®°å½•å·²ç”Ÿæˆ
- [ ] å›æ»šæ–¹æ¡ˆå·²å‡†å¤‡

---

## äº§å‡ºç‰©æ ¼å¼è§„èŒƒ

### é€šç”¨ YAML Frontmatter

æ‰€æœ‰æ–‡æ¡£å¿…é¡»åŒ…å«ä»¥ä¸‹å…ƒä¿¡æ¯ï¼Œä»¥ä¾¿è§£æå’Œè¿­ä»£ï¼š

```yaml
---
# æ–‡æ¡£ç±»å‹: PRD | Architecture | API | Database | Implementation | TestCase | Verification | Release
docType: string

# è¯­ä¹‰åŒ–ç‰ˆæœ¬å·
version: "1.0.0"

# çŠ¶æ€: draft | review | approved | deprecated
status: string

# åˆ›å»ºæ—¥æœŸ
created: YYYY-MM-DD

# æœ€åæ›´æ–°æ—¥æœŸ
updated: YYYY-MM-DD

# å…³è”æ–‡æ¡£åˆ—è¡¨
relatedDocs:
  - type: string
    path: string
    version: string

# å˜æ›´æ—¥å¿—
changeLog:
  - version: string
    date: YYYY-MM-DD
    changes: string
---
```

### çŠ¶æ€æ ‡è®°

åœ¨æ–‡æ¡£å†…å®¹ä¸­ä½¿ç”¨ä»¥ä¸‹æ ‡è®°æŒ‡ç¤ºçŠ¶æ€ï¼š

| æ ‡è®°           | å«ä¹‰     | ç¤ºä¾‹                      |
| -------------- | -------- | ------------------------- |
| `[NEW]`        | æ–°å¢å†…å®¹ | `### [NEW] 2.3 æ–°åŠŸèƒ½`    |
| `[MODIFIED]`   | ä¿®æ”¹å†…å®¹ | `### [MODIFIED] 2.1 ç™»å½•` |
| `[DEPRECATED]` | åºŸå¼ƒå†…å®¹ | `### [DEPRECATED] æ—§æ¥å£` |
| `[WIP]`        | è¿›è¡Œä¸­   | `### [WIP] å¼€å‘ä¸­åŠŸèƒ½`    |

---

### æ–‡æ¡£å¼•ç”¨æ–¹å¼

```markdown
## å¼•ç”¨ç°æœ‰æ–‡æ¡£

è¯·é˜…è¯»ä»¥ä¸‹é¡¹ç›®æ–‡æ¡£ï¼š

**ç¼–ç è§„èŒƒ**: @file:.agent/rules/CODING_STANDARDS.md

**éœ€æ±‚æ–‡æ¡£**: @file:docs/requirements/{{feature-x-prd}}.md

**è®¾è®¡æ–‡æ¡£**: @file:docs/design/{{feature-x-design}}.md

åŸºäºä»¥ä¸Šæ–‡æ¡£ï¼Œè¯· [å…·ä½“ä»»åŠ¡æè¿°]
```

---

## ç›®å½•ç»“æ„å»ºè®®

```
project/
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ requirements/           # éœ€æ±‚æ–‡æ¡£
â”‚   â”‚   â””â”€â”€ feature-x-prd.md
â”‚   â”œâ”€â”€ design/                 # è®¾è®¡æ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ DATABASE_SCHEMA.md      # [æ ¸å¿ƒ] æ•°æ®åº“å…¨é‡ç»“æ„å¿«ç…§
â”‚   â”‚   â”œâ”€â”€ feature-x-architecture.md
â”‚   â”‚   â”œâ”€â”€ feature-x-api.md
â”‚   â”‚   â””â”€â”€ feature-x-database.md
â”‚   â”œâ”€â”€ implementation/         # å®ç°è§„èŒƒ
â”‚   â”‚   â””â”€â”€ feature-x-impl.md
â”‚   â”œâ”€â”€ test/                   # æµ‹è¯•ç”¨ä¾‹
â”‚   â”‚   â””â”€â”€ feature-x-testcase.md
â”‚   â”œâ”€â”€ verification/           # éªŒæ”¶æŠ¥å‘Š
â”‚   â”‚   â””â”€â”€ feature-x-verification.md
â”‚   â””â”€â”€ release/                # å‘å¸ƒè®°å½•
â”‚       â””â”€â”€ release-v1.0.0.md
â”œâ”€â”€ .agent/rules/
â”‚   â””â”€â”€ CODING_STANDARDS.md  # ç¼–ç è§„èŒƒ (å·²å­˜åœ¨)
â””â”€â”€ ...
```

---

## æ€»ç»“

æœ¬å·¥ä½œæµæ¡†æ¶çš„æ ¸å¿ƒä»·å€¼ï¼š

1. **æ ‡å‡†åŒ–**: ç»Ÿä¸€çš„æ–‡æ¡£æ ¼å¼ä½¿èƒ½å¤Ÿå‡†ç¡®è§£æå’Œç”Ÿæˆ
2. **å¯è¿½æº¯**: æ¯ä¸ªé˜¶æ®µäº§å‡ºç‰©éƒ½æœ‰æ˜ç¡®çš„ä¸Šä¸‹æ¸¸å…³ç³»
3. **å¯è¿­ä»£**: æ”¯æŒåœ¨åŸæœ‰äº§å‡ºç‰©ä¸Šè¿›è¡Œå¢é‡æ›´æ–°
4. **è´¨é‡ä¿è¯**: ä¸ç¼–ç è§„èŒƒé›†æˆï¼Œç¡®ä¿ä»£ç è´¨é‡

ä½¿ç”¨æ­¤æ¡†æ¶ï¼Œå¼€å‘å›¢é˜Ÿå¯ä»¥ä¸é«˜æ•ˆåä½œï¼Œå®Œæˆä»éœ€æ±‚åˆ°ä¸Šçº¿çš„å®Œæ•´å¼€å‘å‘¨æœŸã€‚
