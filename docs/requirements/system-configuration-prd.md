---
docType: PRD
version: "1.0.0"
status: draft
created: 2026-01-17
updated: 2026-01-17
author: AI Assistant
featureId: FEATURE-SYS-CONF
relatedDocs: []
changeLog:
  - version: "1.0.0"
    date: 2026-01-17
    changes: 初始版本
---

# 配置中心-系统配置需求文档 (PRD)

## 1. 概述

### 1.1 背景

当前配置中心缺乏对系统及其子系统层级关系的统一管理能力。为了更好地管理各个业务系统（如账务系统及其下属的前端、后端、批量系统等），需要引入“系统配置”功能，明确系统间的层级结构，并维护关键元数据（Git 地址、负责人）。

### 1.2 目标

- 实现对主系统（Main System）和子系统（Sub System）的独立管理。
- 主系统管理：维护一级业务系统域。
- 子系统管理：维护具体应用/服务，必须关联一个主系统。

### 1.3 范围

**包含**:

- 系统/子系统层级管理（通过父级选择实现）。
- 节点信息维护：系统名称、系统编码、Git 地址（必填）、负责人（仅子系统）。
- 系统列表/树形视图展示。

**不包含**:

- 系统间的依赖关系管理。
- 复杂的层级调整（如拖拽排序、批量移动）。
- 具体的配置项（Key-Value）管理。

---

## 2. 功能需求

### 2.1 功能清单

| ID   | 功能名称        | 优先级 | 状态 |
| ---- | --------------- | ------ | ---- |
| F001 | 系统层级树展示  | P0     | NEW  |
| F002 | 新增系统/子系统 | P0     | NEW  |
| F003 | 编辑系统信息    | P0     | NEW  |
| F004 | 删除系统节点    | P1     | NEW  |

### 2.2 用户故事

#### US-001: 管理一级系统

- **As a** 系统管理员
- **I want** 在“系统管理”页面独立维护一级业务系统
- **So that** 我可以清晰地定义顶级业务领域

#### US-002: 管理子系统

- **As a** 系统管理员/运维
- **I want** 在“子系统管理”页面新增子系统，并选择其所属的一级系统
- **So that** 我可以将具体应用归类到正确的业务领域下

**验收标准**:
| AC | Given | When | Then | ✓ |
|----|-------|------|------|---|
| 1 | 进入“子系统管理” | 点击新增 | 弹出表单，包含“所属系统”下拉框 | [ ] |
| 2 | 填写表单 | 选择“账务系统”，填写 Git 地址 | 保存成功，列表显示该子系统及其父级 | [ ] |

#### US-003: 配置子系统元数据

- **As a** 运维人员/开发负责人
- **I want** 在子系统详情中录入 Git 仓库地址和负责人
- **So that** 出现问题时能快速定位负责人并找到源码

**验收标准**:
| AC | Given | When | Then | ✓ |
|----|-------|------|------|---|
| 1 | 编辑“账务后端系统” | 输入 Git 地址和负责人并保存 | 信息被成功持久化 | [ ] |
| 2 | 未输入 Git 地址 | 点击保存 | 提示“Git 地址不能为空” | [ ] |
| 3 | 查看系统详情 | 访问系统信息 | 展示该系统的 Git 地址和负责人 | [ ] |

**异常场景**:

- EX-1: 删除包含子系统的父节点时，应提示先删除子节点（禁止直接删除非空父节点）。
- EX-2: 系统编码重复校验。
- EX-3: 必填项校验失败（如 Git 地址为空）。

---

## 3. 非功能性需求

| 类型   | 要求                                | 验收方式     |
| ------ | ----------------------------------- | ------------ |
| 性能   | 系统树加载时间 < 1s (节点数 < 1000) | 页面加载测试 |
| 易用性 | 层级关系展示清晰，支持折叠/展开     | UI 体验走查  |

---

## 4. 约束与假设

### 约束

- 采用无限层级树设计，但业务上通常只有 2-3 层。
- Git 地址字段为**必填项**。
- 不提供拖拽等复杂层级维护交互，层级调整通过编辑“父节点”实现。

### 假设

- 系统名称在同一父节点下唯一。
- 系统编码全局唯一。

---

## 5. 风险

| 风险                       | 可能性 | 影响 | 缓解措施                   |
| -------------------------- | ------ | ---- | -------------------------- |
| 节点层级过深导致展示体验差 | 低     | 中   | 限制最大层级或优化前端组件 |

---

## ✅ 阶段确认

- [ ] 用户故事完整
- [ ] 验收标准可测
- [ ] 边界条件已覆盖
- [ ] 可以进入设计阶段

**确认人**: **\_\_** **日期**: **\_\_**
