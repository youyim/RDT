---
docType: Release
version: "X.Y.Z"
releaseDate: YYYY-MM-DD
status: planned | released | rollback
relatedDocs:
  - type: verification
    path: ../verification/[feature-name]-verification.md
changeLog:
  - version: "1.0.0"
    date: YYYY-MM-DD
    changes: 初始发布
---

# Release vX.Y.Z

**发布日期**: YYYY-MM-DD
**发布类型**: Major / Minor / Patch / Hotfix

---

## 1. 发布内容

### 1.1 新功能

| 功能 ID | 功能名称   | 描述       |
| ------- | ---------- | ---------- |
| F001    | [功能名称] | [简要描述] |

### 1.2 修复

| Bug ID  | 问题描述   | 修复说明   |
| ------- | ---------- | ---------- |
| BUG-001 | [问题描述] | [修复说明] |

### 1.3 优化

| 优化项   | 描述   | 效果       |
| -------- | ------ | ---------- |
| [优化项] | [描述] | [具体效果] |

### 1.4 破坏性变更

> [!WARNING]
> 以下变更可能影响现有功能或集成

| 变更       | 影响       | 迁移指南   |
| ---------- | ---------- | ---------- |
| [变更描述] | [影响范围] | [迁移步骤] |

---

## 2. 影响范围

### 2.1 模块变更

| 模块   | 变更类型  | 变更文件数 |
| ------ | --------- | ---------- |
| 后端   | 新增/修改 | X 个       |
| 前端   | 新增/修改 | X 个       |
| 数据库 | 新增/修改 | X 个       |

### 2.2 配置变更

| 配置项   | 旧值 | 新值 | 说明   |
| -------- | ---- | ---- | ------ |
| [配置项] | [旧] | [新] | [说明] |

---

## 3. 部署步骤

### 3.1 前置准备

- [ ] 通知相关团队
- [ ] 备份数据库
- [ ] 确认回滚方案

### 3.2 部署顺序

1. **数据库迁移**

   ```bash
   # 执行迁移脚本
   flyway migrate
   ```

2. **后端部署**

   ```bash
   # 部署命令
   kubectl apply -f deployment.yaml
   ```

3. **前端部署**

   ```bash
   # 部署命令
   npm run build && deploy
   ```

4. **验证**
   - [ ] 健康检查通过
   - [ ] 核心功能验证
   - [ ] 监控数据正常

---

## 4. 回滚方案

### 4.1 触发条件

- 核心功能不可用
- 错误率超过 1%
- 响应时间超过 5s

### 4.2 回滚步骤

1. **前端回滚**

   ```bash
   kubectl rollout undo deployment/frontend
   ```

2. **后端回滚**

   ```bash
   kubectl rollout undo deployment/backend
   ```

3. **数据库回滚**
   ```bash
   flyway undo
   ```

---

## 5. 监控指标

### 发布后观察 (建议持续 30 分钟)

| 指标       | 正常范围 | 告警阈值 |
| ---------- | -------- | -------- |
| 错误率     | < 0.1%   | > 1%     |
| P99 延迟   | < 500ms  | > 2s     |
| CPU 使用率 | < 60%    | > 80%    |
| 内存使用率 | < 70%    | > 85%    |

---

## 6. 发布记录

| 时间             | 操作       | 执行人 | 结果 |
| ---------------- | ---------- | ------ | ---- |
| YYYY-MM-DD HH:mm | 开始部署   | [姓名] |      |
| YYYY-MM-DD HH:mm | 数据库迁移 | [姓名] |      |
| YYYY-MM-DD HH:mm | 后端部署   | [姓名] |      |
| YYYY-MM-DD HH:mm | 前端部署   | [姓名] |      |
| YYYY-MM-DD HH:mm | 验证完成   | [姓名] |      |

---

## ✅ 发布确认

- [ ] 部署步骤已执行
- [ ] 验证检查已通过
- [ ] 监控指标正常
- [ ] 发布成功

**确认人**: ******\_\_\_****** **日期**: ******\_\_\_******
